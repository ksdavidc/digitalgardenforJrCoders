---
{"dg-publish":true,"permalink":"/digital-garden/hatlight-platformer-step-1/"}
---

 
# Hatlight Platformer Step 1

As always, start by creating your **main sprite** and initializing your **variables**. 
* In this case, it is important that **your main sprite is just a square**. Later, we will make it have a real costume, but for now, just a square.

<style>
.container {font-family: sans-serif; text-align: center;}
.button-wrapper button {z-index: 1;height: 40px; width: 100px; margin: 10px;padding: 5px;}
.excalidraw .App-menu_top .buttonList { display: flex;}
.excalidraw-wrapper { height: 800px; margin: 50px; position: relative;}
:root[dir="ltr"] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left {transform: none;}
</style><script src="https://unpkg.com/react@17/umd/react.production.min.js"></script><script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script><script type="text/javascript" src="https://unpkg.com/@excalidraw/excalidraw@0.12.0/dist/excalidraw.production.min.js"></script><div id="Hatlight_mainspriteexcalidraw.md1"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":87,"versionNonce":1892992151,"isDeleted":false,"id":"KRN322rUgILzyqnIiAh0-","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-588.3212890625,"y":-174.60308837890625,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":330.75030517578125,"seed":1997566463,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668903070332,"link":null,"locked":false},{"type":"rectangle","version":89,"versionNonce":1830689207,"isDeleted":false,"id":"hQZ7dFkbQxz1MSzeq2DS2","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-531.1099853515625,"y":51.05218505859375,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1431296543,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668903074516,"link":null,"locked":false}],"appState":{"theme":"light","viewBackgroundColor":"transparent","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#15aabf","currentItemFillStyle":"solid","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Hatlight_mainspriteexcalidraw.md1");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>


- Initialize usually means things like **position**, **direction**, and **effects**.
- You will also initialize all your **variables**. 
- At the start you don't always know all your variables, but as this is a platformer, we know we will need `x speed `and `y speed`, so let's initialize those.
- To set the **position**, use this trick: Put your sprite at the starting position in the stage. Then the `go to x` block amd scratch will put the correct numbers in the block.

This is what we get:

```ad-scratch
title: main sprite
~~~scratchblock

when @greenFlag clicked
broadcast [initialize v]


when I receive [initialize v]
set [ghost v] effect to (0)::looks
go to x: (-205) y: (65)
set [x speed v] to [0]
set [y speed v] to [0]
~~~
```

After we initialize, we move left right, then fall, then repeat. The flowchart for this is:

<div id="Hatlightoverall.excalidraw.md2"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":1608,"versionNonce":740958873,"isDeleted":false,"id":"RMNqwfWlgfbMpYooeJoeX","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-327.28211084749273,"y":-1171.0762490674788,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":145,"height":48,"seed":1239531121,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"bLuBw5Gk","type":"text"},{"id":"CZZBlZLQcMsvBM3Y59OCy","type":"arrow"}],"updated":1668911234444,"link":null,"locked":false},{"type":"text","version":1752,"versionNonce":485601143,"isDeleted":false,"id":"bLuBw5Gk","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-314.28211084749273,"y":-1159.0762490674788,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":119,"height":24,"seed":217341215,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668911234444,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Green Flag","rawText":"Green Flag","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"RMNqwfWlgfbMpYooeJoeX","originalText":"Green Flag"},{"type":"rectangle","version":1785,"versionNonce":668755833,"isDeleted":false,"id":"3KIpf-rkzikNMb_aR0m7y","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-327.87772088228417,"y":-1083.5863582106383,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":152,"height":34,"seed":820168785,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"ZCCwgZWZ","type":"text"},{"id":"CZZBlZLQcMsvBM3Y59OCy","type":"arrow"},{"id":"ZGWdRa8JACOlC9W9gZeZ8","type":"arrow"}],"updated":1668911234444,"link":null,"locked":false},{"type":"text","version":1924,"versionNonce":538618007,"isDeleted":false,"id":"ZCCwgZWZ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-311.37772088228417,"y":-1078.5863582106383,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":119,"height":24,"seed":1506369855,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668911234444,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Initialize","rawText":"Initialize","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"3KIpf-rkzikNMb_aR0m7y","originalText":"Initialize"},{"type":"rectangle","version":1771,"versionNonce":45289561,"isDeleted":false,"id":"g3GQAZzBP1tmYREzU3GFV","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-351.870717277047,"y":-1009.0037078852681,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":206,"height":34,"seed":182949425,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"y03U4cUU","type":"text"},{"id":"ZGWdRa8JACOlC9W9gZeZ8","type":"arrow"},{"id":"SgfLADjg34eKJoEx705pv","type":"arrow"},{"id":"rOdClYNLCyfLF1jbUwU8F","type":"arrow"}],"updated":1668911234444,"link":null,"locked":false},{"type":"text","version":1915,"versionNonce":34045367,"isDeleted":false,"id":"y03U4cUU","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-337.870717277047,"y":-1004.0037078852681,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":178,"height":24,"seed":698933599,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668911234444,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Move Left right","rawText":"Move Left right","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"g3GQAZzBP1tmYREzU3GFV","originalText":"Move Left right"},{"type":"rectangle","version":1944,"versionNonce":578919737,"isDeleted":false,"id":"sRV2I3u5YmLmW1mMZtcg3","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-288.3378193564589,"y":-913.9739720684898,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":92,"height":34,"seed":1255647249,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"XFDnTuBL","type":"text"},{"id":"SgfLADjg34eKJoEx705pv","type":"arrow"},{"id":"rOdClYNLCyfLF1jbUwU8F","type":"arrow"}],"updated":1668911234444,"link":null,"locked":false},{"type":"text","version":2077,"versionNonce":1977396951,"isDeleted":false,"id":"XFDnTuBL","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-266.8378193564589,"y":-908.9739720684898,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":49,"height":24,"seed":769875327,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668911234444,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Fall","rawText":"Fall","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"sRV2I3u5YmLmW1mMZtcg3","originalText":"Fall"},{"type":"arrow","version":1344,"versionNonce":1458213977,"isDeleted":false,"id":"CZZBlZLQcMsvBM3Y59OCy","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-253.58277809645028,"y":-1122.0762490674788,"strokeColor":"#e67700","backgroundColor":"transparent","width":2.149568377650496,"height":37.489890856840475,"seed":447380977,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668911277008,"link":null,"locked":false,"startBinding":{"elementId":"RMNqwfWlgfbMpYooeJoeX","gap":1,"focus":-0.03564957328353111},"endBinding":{"elementId":"3KIpf-rkzikNMb_aR0m7y","gap":1,"focus":-0.06348442400404053},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-2.149568377650496,37.489890856840475]]},{"type":"arrow","version":1731,"versionNonce":1842483737,"isDeleted":false,"id":"ZGWdRa8JACOlC9W9gZeZ8","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-259.42746168921656,"y":-1048.5863582106383,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.24000731977434953,"height":38.582650325370196,"seed":431576479,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668911277018,"link":null,"locked":false,"startBinding":{"elementId":"3KIpf-rkzikNMb_aR0m7y","gap":1,"focus":0.09774181347325406},"endBinding":{"elementId":"g3GQAZzBP1tmYREzU3GFV","gap":1,"focus":-0.10580130154277227},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-0.24000731977434953,38.582650325370196]]},{"type":"arrow","version":1407,"versionNonce":967163065,"isDeleted":false,"id":"rOdClYNLCyfLF1jbUwU8F","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-243.63715254914348,"y":-974.0037078852682,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.0383496071296463,"height":58.96604033857818,"seed":2036832209,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668911277023,"link":null,"locked":false,"startBinding":{"elementId":"g3GQAZzBP1tmYREzU3GFV","gap":1,"focus":-0.05091873110137001},"endBinding":{"elementId":"sRV2I3u5YmLmW1mMZtcg3","gap":1.0636954782002637,"focus":-0.029328403944222446},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-0.0383496071296463,58.96604033857818]]},{"type":"arrow","version":3017,"versionNonce":578809145,"isDeleted":false,"id":"SgfLADjg34eKJoEx705pv","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-242.50166348108576,"y":-878.3852704229776,"strokeColor":"#e67700","backgroundColor":"transparent","width":117.81782845169755,"height":130.68243448093324,"seed":1763690303,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668911303124,"link":null,"locked":false,"startBinding":{"elementId":"sRV2I3u5YmLmW1mMZtcg3","focus":0.2823770877995944,"gap":1.5887016455122875},"endBinding":{"elementId":"g3GQAZzBP1tmYREzU3GFV","focus":-0.9124661334787617,"gap":2.713513145805365},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[20.58225148976703,22.127327103691073],[102.43331226342531,3.6784649691728646],[117.81782845169755,-76.15012653716474],[99.34445934984413,-108.55510737724217]]}],"appState":{"theme":"light","viewBackgroundColor":"transparent","currentItemStrokeColor":"#e67700","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":3,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("Hatlightoverall.excalidraw.md2");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

Left/right is the start of a **loop**. After Fall, it goes back to the beginning Left/right. In this case the loop goes forever.

So, let's put in  left/right and fall stacks.

```ad-scratch
title: main sprite
~~~scratchblock
when @greenFlag clicked
   broadcast [initialize v]
   add this here:
   broadcast [move left / right v]


when I receive [move left / right v]
our left right routine will go here
broadcast [fall v]


when I receive [fall v]
our fall routine goes here
broadcast [move left / right v]

~~~
```

So let's do the left right routine. The basic routine is this:

<div id="HatlightmoveLeftRight.excalidraw.md3"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":2447,"versionNonce":1606694299,"isDeleted":false,"id":"j46Q-mIB_RMtLqBuMi9Jo","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-333.2813200409966,"y":-456.97101720041945,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":415,"height":78,"seed":216207345,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"hoKKMoqj","type":"text"},{"id":"BXhvDQHmQzR-Mp2WdIDRD","type":"arrow"}],"updated":1669149803584,"link":null,"locked":false},{"type":"text","version":2660,"versionNonce":368559509,"isDeleted":false,"id":"hoKKMoqj","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-323.7813200409966,"y":-427.97101720041945,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":396,"height":20,"seed":1921704863,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669149803584,"link":null,"locked":false,"fontSize":16,"fontFamily":3,"text":"Detect arrows and set the x-speed variable","rawText":"Detect arrows and set the x-speed variable","baseline":16,"textAlign":"center","verticalAlign":"middle","containerId":"j46Q-mIB_RMtLqBuMi9Jo","originalText":"Detect arrows and set the x-speed variable"},{"type":"rectangle","version":2593,"versionNonce":1594955579,"isDeleted":false,"id":"IoJwQQFPcnide1ayTmbpU","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-265.5903034223203,"y":-354.37251606910223,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":265,"height":70,"seed":2059266513,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"KNDBm7n1","type":"text"},{"id":"BXhvDQHmQzR-Mp2WdIDRD","type":"arrow"},{"id":"BQTp2Km0sXOdqGU8mgJqd","type":"arrow"}],"updated":1669149847407,"link":null,"locked":false},{"type":"text","version":2747,"versionNonce":664489461,"isDeleted":false,"id":"KNDBm7n1","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-232.0903034223203,"y":-339.37251606910223,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":198,"height":40,"seed":130750399,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669149847407,"link":null,"locked":false,"fontSize":16,"fontFamily":3,"text":"Keep x-speed below a \nmaximum speed","rawText":"Keep x-speed below a maximum speed","baseline":36,"textAlign":"center","verticalAlign":"middle","containerId":"IoJwQQFPcnide1ayTmbpU","originalText":"Keep x-speed below a maximum speed"},{"type":"rectangle","version":2475,"versionNonce":1192858581,"isDeleted":false,"id":"ABGizyKxq-GGhHL1bSIUj","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-257.19383984673027,"y":-262.3548683695624,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":247,"height":57,"seed":2145552305,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"llvdtr75","type":"text"},{"id":"dKCsiULa4aCptAMA4JZvi","type":"arrow"},{"id":"BQTp2Km0sXOdqGU8mgJqd","type":"arrow"}],"updated":1669149833266,"link":null,"locked":false},{"type":"text","version":2667,"versionNonce":214671061,"isDeleted":false,"id":"llvdtr75","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-223.69383984673027,"y":-243.85486836956238,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":180,"height":20,"seed":1261422559,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669149810852,"link":null,"locked":false,"fontSize":16,"fontFamily":3,"text":"change x by x-speed","rawText":"change x by x-speed","baseline":16,"textAlign":"center","verticalAlign":"middle","containerId":"ABGizyKxq-GGhHL1bSIUj","originalText":"change x by x-speed"},{"type":"rectangle","version":2520,"versionNonce":1380145013,"isDeleted":false,"id":"ZLp42ksZ46S107PNBhQAh","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-195.37558445563852,"y":-182.75348164655375,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":107,"height":30,"seed":376990097,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"7coyg3pg","type":"text"},{"id":"dKCsiULa4aCptAMA4JZvi","type":"arrow"},{"id":"3kD_5vABuaYS-50Mz2okq","type":"arrow"}],"updated":1669149814529,"link":null,"locked":false},{"type":"text","version":2664,"versionNonce":1742194267,"isDeleted":false,"id":"7coyg3pg","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-161.87558445563852,"y":-177.75348164655375,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":40,"height":20,"seed":2060022783,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669149814529,"link":null,"locked":false,"fontSize":16,"fontFamily":3,"text":"Fall","rawText":"Fall","baseline":16,"textAlign":"center","verticalAlign":"middle","containerId":"ZLp42ksZ46S107PNBhQAh","originalText":"Fall"},{"type":"arrow","version":2741,"versionNonce":1130644219,"isDeleted":false,"id":"dKCsiULa4aCptAMA4JZvi","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-109.19242791108141,"y":-149.66848567567257,"strokeColor":"#e67700","backgroundColor":"transparent","width":3.4898370535974834,"height":2.084995970881181,"seed":166066513,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669149814529,"link":null,"locked":false,"startBinding":{"elementId":"ZLp42ksZ46S107PNBhQAh","gap":3.0849959708811987,"focus":0.026503790986018495},"endBinding":{"elementId":"ZLp42ksZ46S107PNBhQAh","gap":1,"focus":-0.03069383178984822},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-3.4898370535974834,-2.084995970881181]]},{"type":"arrow","version":1811,"versionNonce":2068301653,"isDeleted":false,"id":"BXhvDQHmQzR-Mp2WdIDRD","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-133.851566915026,"y":-377.97101720041945,"strokeColor":"#e67700","backgroundColor":"transparent","width":1.1391727613330147,"height":21.962558060135677,"seed":1288981813,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669149847408,"link":null,"locked":false,"startBinding":{"elementId":"j46Q-mIB_RMtLqBuMi9Jo","focus":0.029537342408049803,"gap":1},"endBinding":{"elementId":"IoJwQQFPcnide1ayTmbpU","focus":-0.028296832884806968,"gap":1.6359430711815435},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.1391727613330147,21.962558060135677]]},{"type":"arrow","version":1417,"versionNonce":165549237,"isDeleted":false,"id":"BQTp2Km0sXOdqGU8mgJqd","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-136.80872333577815,"y":-282.31385871710665,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.1670534027814483,"height":17.017197541554594,"seed":323426581,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669149847408,"link":null,"locked":false,"startBinding":{"elementId":"IoJwQQFPcnide1ayTmbpU","focus":0.03166985479627959,"gap":2.0586573519955778},"endBinding":{"elementId":"ABGizyKxq-GGhHL1bSIUj","focus":-0.02132152961581406,"gap":2.941792805989678},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[0.1670534027814483,17.017197541554594]]},{"type":"arrow","version":1243,"versionNonce":46289205,"isDeleted":false,"id":"3kD_5vABuaYS-50Mz2okq","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-133.78947193128428,"y":-205.73047960740598,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.1954906379502006,"height":21.88478597005212,"seed":1637309077,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669149833266,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"ZLp42ksZ46S107PNBhQAh","focus":0.15708975303426162,"gap":1.0922119908001093},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[0.1954906379502006,21.88478597005212]]}],"appState":{"theme":"light","viewBackgroundColor":"transparent","currentItemStrokeColor":"#e67700","currentItemBackgroundColor":"transparent","currentItemFillStyle":"solid","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":3,"currentItemFontSize":16,"currentItemTextAlign":"center","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("HatlightmoveLeftRight.excalidraw.md3");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

And here is the code:

```ad-scratch
title: hitbox, receive left/right
~~~scratchblock
when I receive [move left / right v]
set xspeed::custom
keep speed below max::custom
change x by (x speed)
broadcast [fall v]
~~~
```

Notice there are two myblocks that you need to make: **set xspeed**, and **keep speed below max**

Setting the xspeed has 2 steps. 
* If no key is being held, then slow the speed down.  
	* notice that to slow down depends on the direction we are going. if we are going left (*xspeed < 0*), we have to **INCREASE** xspeed , and if we are right (*xspeed > 0*), we **DECREASE** xspeed, so it has a minus sign.
* Otherwise, speed up in the direction we are going.
	* To speed up, we do the opposite, we make it larger if we want to go right (*right arrow*), and smaller to go left (*left arrow*), so left gets the negative sign.

```ad-scratch
title: hitbox, define set xspeed
~~~scratchblock

define set xspeed
if <<not <key [left arrow v] pressed?>> and <not <key [right arrow v] pressed?>>> then
   no key is being pressed so we slow down
   moving left means speed IS LESS THAN 0,  right means speed IS MORE THAN 0
   to slow down:
   if moving left, go a little less left, if going right, go a little less right.
   if moving left, make xspeed a bigger negative number, 
   if going right, make xspeed smaller positive number.
   in other words: moving left +1 right -1

   change [x speed v] by (<(x speed) \< [0]> - <(x speed) \> [0]>)
else
else go in direction of arrow
    change [x speed v] by (<key [right arrow v] pressed?> - <key [left arrow v] pressed?>)
end


~~~
```

Keeping the speed below the max is easy, but we have to remember that left and right are different.
```ad-scratch
title: hitbox, define keep speed below max
~~~scratchblock


define keep speed below max
set maximum speed
moving right:
if <(x speed) \> [4]> then
    set [x speed v] to [4]
end
moving left:
if <(x speed) \< [-4]> then
    set [x speed v] to [-4]
end
~~~
```

# Falling

Next we will teach our guy to fall. First, we need a platform or wall for the character to fall onto. So make one.

<div id="HatlightPlatform.excalidraw.md4"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":147,"versionNonce":2023188251,"isDeleted":false,"id":"-BhE3qjFz7EzdAMw-8k5u","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-198.8213895022215,"y":-231.31190412472455,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":391.697998046875,"seed":2096960897,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669149990766,"link":null,"locked":false},{"type":"rectangle","version":140,"versionNonce":1451616695,"isDeleted":false,"id":"K6F48gfgbAf7FfVEZiAFg","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-200.221923828125,"y":52.3824462890625,"strokeColor":"#000000","backgroundColor":"#fa5252","width":578.7227783203125,"height":52.170654296875,"seed":82281487,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"9I-onR_TnxsWehH5Y7p2I","type":"arrow"}],"updated":1668907730051,"link":null,"locked":false},{"type":"rectangle","version":179,"versionNonce":745533753,"isDeleted":false,"id":"n2TPaNDw8CFg9ZS1F-NcI","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-131.50845336914062,"y":-49.205535888671875,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1020124033,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"0nTujerjs8bk4BAkzAtd5","type":"arrow"},{"id":"9I-onR_TnxsWehH5Y7p2I","type":"arrow"}],"updated":1668907730051,"link":null,"locked":false},{"type":"text","version":20,"versionNonce":128817879,"isDeleted":false,"id":"S13IR9yP","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":55.88616943359375,"y":-108.0433349609375,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":143,"height":24,"seed":78555537,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"oIGih9U9zFPPHVnpe0U7I","type":"arrow"}],"updated":1668907730051,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"New Platform","rawText":"New Platform","baseline":20,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"New Platform"},{"type":"arrow","version":88,"versionNonce":1202676249,"isDeleted":false,"id":"oIGih9U9zFPPHVnpe0U7I","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":95.037109375,"y":-79.9483642578125,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":71.848876953125,"height":132.35565185546875,"seed":875514001,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668907730051,"link":null,"locked":false,"startBinding":{"elementId":"S13IR9yP","focus":0.3026623760756734,"gap":4.094970703125},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-71.848876953125,132.35565185546875]]},{"type":"text","version":28,"versionNonce":377639577,"isDeleted":false,"id":"nqnPZZR9","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-26.44960295848358,"y":-189.91520495292468,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":131,"height":24,"seed":430884447,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"0nTujerjs8bk4BAkzAtd5","type":"arrow"}],"updated":1668908063439,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Main Sprite","rawText":"Main Sprite","baseline":20,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"Main Sprite"},{"type":"arrow","version":266,"versionNonce":2007930745,"isDeleted":false,"id":"0nTujerjs8bk4BAkzAtd5","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-19.68775281644738,"y":-155.3992442595653,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":71.60321228620617,"height":103.59211535331531,"seed":503215935,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668908063439,"link":null,"locked":false,"startBinding":{"elementId":"nqnPZZR9","focus":0.5851118584451094,"gap":10.515960693359375},"endBinding":{"elementId":"n2TPaNDw8CFg9ZS1F-NcI","focus":-0.1920958528217059,"gap":2.601593017578125},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-71.60321228620617,103.59211535331531]]},{"type":"arrow","version":204,"versionNonce":579342615,"isDeleted":false,"id":"9I-onR_TnxsWehH5Y7p2I","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-89.84741210937501,"y":13.333648681640629,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":1.22406005859375,"height":35.57952880859375,"seed":470672351,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668907730051,"link":null,"locked":false,"startBinding":{"elementId":"n2TPaNDw8CFg9ZS1F-NcI","focus":-0.4814271652162273,"gap":7.78997802734375},"endBinding":{"elementId":"K6F48gfgbAf7FfVEZiAFg","focus":-0.6243659421659179,"gap":3.469268798828125},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.22406005859375,35.57952880859375]]},{"type":"text","version":53,"versionNonce":915304409,"isDeleted":false,"id":"Wls7tnzk","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-81.95840454101562,"y":16.0592041015625,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":61,"height":24,"seed":1494065215,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668907730051,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"fall!","rawText":"fall!","baseline":20,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"fall!"}],"appState":{"theme":"light","viewBackgroundColor":"transparent","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#15aabf","currentItemFillStyle":"solid","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":2,"currentItemOpacity":100,"currentItemFontFamily":3,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"round","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("HatlightPlatform.excalidraw.md4");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

Our basic fall routine is 

<div id="HatlightFalling.excalidraw.md5"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":1704,"versionNonce":2090693563,"isDeleted":false,"id":"Nwu0LtqoSmT45PmOhGbI0","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-76.0461413065824,"y":-23043.28681103683,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":417,"height":34,"seed":1762656049,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"71yE5y0v","type":"text"},{"id":"jhNFrphANp3u00ECumDDS","type":"arrow"}],"updated":1669151686560,"link":null,"locked":false},{"type":"text","version":1825,"versionNonce":973620245,"isDeleted":false,"id":"71yE5y0v","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-38.5461413065824,"y":-23038.28681103683,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":342,"height":24,"seed":1868007519,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669151686560,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Change the y speed by gravity","rawText":"Change the y speed by gravity","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"Nwu0LtqoSmT45PmOhGbI0","originalText":"Change the y speed by gravity"},{"type":"rectangle","version":1922,"versionNonce":30229595,"isDeleted":false,"id":"1P7VB9ARxlKRJr1lHPf5q","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-97.0461413065824,"y":-22963.665813453976,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":459,"height":34,"seed":2047537425,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"oCoGhJVT","type":"text"},{"id":"KUXSVk7kjG8YUUAb-OWLF","type":"arrow"}],"updated":1669151686560,"link":null,"locked":false},{"type":"text","version":1973,"versionNonce":1022425461,"isDeleted":false,"id":"oCoGhJVT","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-79.5461413065824,"y":-22958.665813453976,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":424,"height":24,"seed":891626623,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669151686560,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Change the y position by the y speed","rawText":"Change the y position by the y speed","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"1P7VB9ARxlKRJr1lHPf5q","originalText":"Change the y position by the y speed"},{"type":"rectangle","version":1956,"versionNonce":495766203,"isDeleted":false,"id":"dG_sTAK3ANmmsONJBhqjK","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-100.0461413065824,"y":-22884.044815871122,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":465,"height":47,"seed":1988929265,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"QObjDLxV","type":"text"},{"id":"d5gJhw0lYPrHBm7mtrV9n","type":"arrow"},{"id":"KUXSVk7kjG8YUUAb-OWLF","type":"arrow"}],"updated":1669151676814,"link":null,"locked":false},{"type":"text","version":2092,"versionNonce":299804277,"isDeleted":false,"id":"QObjDLxV","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-91.5461413065824,"y":-22872.544815871122,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":448,"height":24,"seed":53099679,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669151667872,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"If inside a wall or platform, pull out","rawText":"If inside a wall or platform, pull out","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"dG_sTAK3ANmmsONJBhqjK","originalText":"If inside a wall or platform, pull out"},{"type":"rectangle","version":2058,"versionNonce":1039794427,"isDeleted":false,"id":"u9b9U3IXBOQMFf2--IXVE","fillStyle":"solid","strokeWidth":2,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-44.5461413065824,"y":-22791.42381828827,"strokeColor":"#5f3dc4","backgroundColor":"#fd7e14","width":354,"height":40,"seed":1226612945,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"Ar1U8pJf","type":"text"},{"id":"d5gJhw0lYPrHBm7mtrV9n","type":"arrow"}],"updated":1669151686561,"link":null,"locked":false},{"type":"text","version":2195,"versionNonce":1071383253,"isDeleted":false,"id":"Ar1U8pJf","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-21.0461413065824,"y":-22783.42381828827,"strokeColor":"#5f3dc4","backgroundColor":"transparent","width":307,"height":24,"seed":1561809087,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669151686561,"link":null,"locked":false,"fontSize":20,"fontFamily":3,"text":"Go back to move left/right","rawText":"Go back to move left/right","baseline":20,"textAlign":"center","verticalAlign":"middle","containerId":"u9b9U3IXBOQMFf2--IXVE","originalText":"Go back to move left/right"},{"type":"arrow","version":1799,"versionNonce":928964661,"isDeleted":false,"id":"jhNFrphANp3u00ECumDDS","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":132.42570573372325,"y":-23008.427149802992,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.16389008074207823,"height":44.94455141957951,"seed":525491889,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669151686561,"link":null,"locked":false,"startBinding":{"elementId":"Nwu0LtqoSmT45PmOhGbI0","focus":0.0001844457279652866,"gap":1},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-0.16389008074207823,44.94455141957951]]},{"type":"arrow","version":2469,"versionNonce":447097243,"isDeleted":false,"id":"KUXSVk7kjG8YUUAb-OWLF","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":132.86022333333722,"y":-22923.553386536703,"strokeColor":"#e67700","backgroundColor":"transparent","width":0.7136480533741292,"height":37.22036748382743,"seed":2089607391,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669151686561,"link":null,"locked":false,"startBinding":{"elementId":"1P7VB9ARxlKRJr1lHPf5q","focus":-0.004223765307398561,"gap":6.112426917272387},"endBinding":{"elementId":"dG_sTAK3ANmmsONJBhqjK","focus":0.008846119530847275,"gap":2.288203181753488},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[0.7136480533741292,37.22036748382743]]},{"type":"arrow","version":2057,"versionNonce":1767838101,"isDeleted":false,"id":"d5gJhw0lYPrHBm7mtrV9n","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":133.43253488391548,"y":-22832.01516695504,"strokeColor":"#e67700","backgroundColor":"transparent","width":1.2771471408951243,"height":37.34609678099514,"seed":131424401,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669151686561,"link":null,"locked":false,"startBinding":{"elementId":"dG_sTAK3ANmmsONJBhqjK","focus":-0.014401483586944952,"gap":5.029648916082806},"endBinding":{"elementId":"u9b9U3IXBOQMFf2--IXVE","focus":-0.0006122131952285393,"gap":3.2452518857753603},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.2771471408951243,37.34609678099514]]}],"appState":{"theme":"light","viewBackgroundColor":"transparent","currentItemStrokeColor":"#e67700","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":3,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("HatlightFalling.excalidraw.md5");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>


So we have 2 steps
1. Fall as far as you need to or until you hit a wall
2. Pull up if you have to.

```ad-scratch
title: hitbox, receive fall
~~~scratchblock

when I receive [fall v]
change [y speed v] by (-1)
change y by (y speed) in steps. Stop at wall.::custom
At this point we may be touching a wall
If so, we should pull out of the wall
Our speed +/- tells us whether we are either moving up {ceiling} or down {floor}
pull up or down if touching walls or <(y speed) \< [0]> or not::custom
broadcast [move left / right v]

~~~
```

We'll have to make 2 myblocks.

First, let's make the change y myblock. To make this create a:
1. label ("change y by")
2. an input field (y speed) 
	- Input fields take variables and expressions like a + b.
3. and another label field ("in steps. Stop at wall")
	- The actual text is not important, and you can choose your own words. Make it meaningful for you.

```ad-scratch
title: hitbox, define change y
~~~scratchblock
define change y by (y speed) in steps. Stop at wall.::custom
~~~
```

The second is the pull up myblock. To make this create a:
1. label ("pull up or down if touching walls and")
2. a **boolean** field <falling?>
	- **Be careful**. A **boolean** field is different than an input field. It only takes things like sensing blocks and logical connectors (and, or)
3. and another label field ("or not"). 
	- Again you can choose your own words for the text of the fields.  Make it meaningful for you.

```ad-scratch
title: hitbox, define pull up
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
~~~
```


### Change y in steps

We could change the y position by y speed in big jumps, like on the left in the diagram below, but it might turn out we will jump beyond the platform.

Instead we want to change y in small steps as in the right. Each small step repeats ***y-speed times***, and we check and stop if it hits a wall.

<div id="HatlightFalllingInSteps.excalidraw.md6"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":193,"versionNonce":792307351,"isDeleted":false,"id":"X3eKC4g-yx-XMt1rWBuif","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":90,"angle":0,"x":-446.4549560546875,"y":-223.33203456712806,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":409.2378845214844,"seed":1523261399,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902884753,"link":null,"locked":false},{"type":"rectangle","version":300,"versionNonce":1372210807,"isDeleted":false,"id":"0fbDeUvnFGOAHWrwifOSV","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-447.225341796875,"y":60.57232666015625,"strokeColor":"#000000","backgroundColor":"#fa5252","width":578.7227783203125,"height":52.170654296875,"seed":1658367257,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"KzzUe-i6RXE-mzwhfi58q","type":"arrow"},{"id":"BLtrddpDIMI7sGaAGwKk-","type":"arrow"},{"id":"X0vEXzL366tfW-NuY40fC","type":"arrow"}],"updated":1668902892330,"link":null,"locked":false},{"type":"rectangle","version":244,"versionNonce":903324345,"isDeleted":false,"id":"aSzZsl74H852Oj-GLVfFu","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-378.5940653483073,"y":-171.21595836821058,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1445399799,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false},{"type":"arrow","version":466,"versionNonce":1861468503,"isDeleted":false,"id":"g4ekkcbqxsQejMG8sMtHJ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-322.04160417829235,"y":-119.28085908435634,"strokeColor":"#000000","backgroundColor":"transparent","width":34.315359933035836,"height":40.774100167410666,"seed":1905810487,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[30.880417596726204,25.17081124441961],[-3.434942336309632,40.774100167410666]]},{"type":"arrow","version":661,"versionNonce":2082792345,"isDeleted":false,"id":"2AgNi4LavDQ_DT3pTVCAZ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-325.1728239513577,"y":-75.07850138346353,"strokeColor":"#000000","backgroundColor":"transparent","width":30.530598958333485,"height":47.169131324404646,"seed":983790713,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[28.942522321428612,24.00812058221726],[-1.5880766369048729,47.169131324404646]]},{"type":"arrow","version":1089,"versionNonce":2076729239,"isDeleted":false,"id":"X0vEXzL366tfW-NuY40fC","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-327.6087661016555,"y":-26.44208490280866,"strokeColor":"#000000","backgroundColor":"transparent","width":34.75597563244054,"height":71.13309442429308,"seed":1849024089,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668902892330,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"0fbDeUvnFGOAHWrwifOSV","focus":-0.6814801411047785,"gap":15.881317138671847},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[34.75597563244054,31.764758882068406],[10.047314073160862,71.13309442429308]]},{"type":"arrow","version":1086,"versionNonce":1948806615,"isDeleted":false,"id":"KzzUe-i6RXE-mzwhfi58q","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-318.67275529515456,"y":46.66189139229917,"strokeColor":"#000000","backgroundColor":"transparent","width":36.471470424107224,"height":99.6491335914248,"seed":595548951,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1668902902752,"link":null,"locked":false,"startBinding":{"elementId":"0fbDeUvnFGOAHWrwifOSV","focus":0.4731328064733432,"gap":13.910435267857082},"endBinding":{"elementId":"FFjJe3DO","focus":-0.22043555957681688,"gap":1.6255536760602638},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[21.017031360072792,46.019605364118206],[-15.454439064034432,99.6491335914248]]},{"type":"text","version":160,"versionNonce":374773655,"isDeleted":false,"id":"FFjJe3DO","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-431.50949823288687,"y":147.93657865978423,"strokeColor":"#000000","backgroundColor":"transparent","width":230,"height":25,"seed":1764694073,"groupIds":[],"strokeSharpness":"sharp","boundElements":[{"id":"KzzUe-i6RXE-mzwhfi58q","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"oops I jumped too far!","rawText":"oops I jumped too far!","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"oops I jumped too far!"},{"type":"rectangle","version":377,"versionNonce":296849753,"isDeleted":false,"id":"UdmsIpWycJ77Ag8M3_jmW","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-147.30171857561396,"y":-169.37390500023255,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1579585465,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false},{"type":"text","version":472,"versionNonce":1223527607,"isDeleted":false,"id":"XbZ1dBRn","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-147.31605893089665,"y":67.45377478661476,"strokeColor":"#000000","backgroundColor":"transparent","width":109,"height":40,"seed":327270615,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":15.849432887262545,"fontFamily":1,"text":"I stop when\nI hit the wall","rawText":"I stop when\nI hit the wall","baseline":34,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"I stop when\nI hit the wall"},{"type":"arrow","version":2598,"versionNonce":805830201,"isDeleted":false,"id":"bwETjqIAwsfaCBXToq7mr","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162217,"y":-114.2402766778728,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":1736422807,"groupIds":["wyA1Lk3TbbMGq0vS8op__"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"ctgLPHBO","focus":1.3025348090580142,"gap":11.247209584646924},"endBinding":{"elementId":"FTeCu3eZ","focus":0.21833418349062747,"gap":14.0985978045654},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1143,"versionNonce":858316247,"isDeleted":false,"id":"FTeCu3eZ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725425,"y":-117.71653355325589,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":431051609,"groupIds":["wyA1Lk3TbbMGq0vS8op__"],"strokeSharpness":"sharp","boundElements":[{"id":"bwETjqIAwsfaCBXToq7mr","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":572,"versionNonce":381538073,"isDeleted":false,"id":"i5h6ALg0GKwRab9r0C90J","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-86.0445995248241,"y":-118.44435015194466,"strokeColor":"#000000","backgroundColor":"transparent","width":36.829425328712304,"height":41.91725264538508,"seed":2040880983,"groupIds":["GqIiQvxPWWtvjf3-ZGR_E"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"UdmsIpWycJ77Ag8M3_jmW","focus":-0.058536680852082454,"gap":3.9914940507898677},"endBinding":{"elementId":"jJvHk8rL","focus":0.5505995457757742,"gap":15.816156400444058},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[30.880417596726204,25.17081124441961],[-5.9490077319861,41.91725264538508]]},{"type":"arrow","version":769,"versionNonce":404556535,"isDeleted":false,"id":"xE_jOsYBF4k_BoFbHpGdK","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-91.73554451131523,"y":-76.36531089920823,"strokeColor":"#000000","backgroundColor":"transparent","width":31.502247534854376,"height":49.38529208954589,"seed":1701062041,"groupIds":["GqIiQvxPWWtvjf3-ZGR_E"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"7XmCKnsZ","focus":-3.0261669778726485,"gap":15.746478778799087},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[31.502247534854376,26.131439030373656],[0.8699029710521415,49.38529208954589]]},{"type":"arrow","version":1107,"versionNonce":1279689721,"isDeleted":false,"id":"BLtrddpDIMI7sGaAGwKk-","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-91.61176144818722,"y":-25.530696345233416,"strokeColor":"#000000","backgroundColor":"transparent","width":38.19080171130963,"height":70.15996040459827,"seed":781016183,"groupIds":["GqIiQvxPWWtvjf3-ZGR_E"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"lDDvswtv","focus":0.5780699842586904,"gap":12.76317613019792},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[34.75597563244054,31.689879256904867],[-3.4348260788690936,70.15996040459827]]},{"type":"arrow","version":2770,"versionNonce":1682871319,"isDeleted":false,"id":"30AQK5MQuPXKIWI8XeajQ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162218,"y":-99.51681021784279,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":882254841,"groupIds":["UCExYSlleJjMwFZ7Qzell"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"ctgLPHBO","focus":-0.05236135082726946,"gap":10.812885025632056},"endBinding":{"elementId":"ctgLPHBO","focus":0.21833418349062633,"gap":14.098597804565372},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1235,"versionNonce":1017486553,"isDeleted":false,"id":"ctgLPHBO","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725424,"y":-102.99306709322587,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":575206423,"groupIds":["UCExYSlleJjMwFZ7Qzell"],"strokeSharpness":"sharp","boundElements":[{"id":"30AQK5MQuPXKIWI8XeajQ","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"bwETjqIAwsfaCBXToq7mr","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3151,"versionNonce":2142370103,"isDeleted":false,"id":"G4TbwLAZZPqXZpdYasfnt","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.66913826448226,"y":-61.49893796083916,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.201091416683255,"height":11.462341104562512,"seed":526494103,"groupIds":["weyBgE4-Gw0c2s9XRE2_F"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"jJvHk8rL","focus":-1.644936525924756,"gap":8.722620557558997},"endBinding":{"elementId":"jJvHk8rL","focus":-1.4923387363459997,"gap":13.899216539584984},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[2.630232044653468,11.462341104562512]]},{"type":"text","version":1374,"versionNonce":124688825,"isDeleted":false,"id":"7XmCKnsZ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.48202329011431,"y":-65.06769084119384,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":1075355481,"groupIds":["weyBgE4-Gw0c2s9XRE2_F"],"strokeSharpness":"sharp","boundElements":[{"id":"G4TbwLAZZPqXZpdYasfnt","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3135,"versionNonce":1605089879,"isDeleted":false,"id":"BIlN-z6qp0Zwaqb-TssE9","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.9968786316222,"y":-42.58356603282854,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":1807732951,"groupIds":["NQ-rDOsEk5HrskJzH4NlO"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"htRXZrxu","focus":1.6426025233326276,"gap":14.580910871420855},"endBinding":{"focus":0.21833418349062633,"gap":14.098597804565372,"elementId":"lW84oqgi"},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1416,"versionNonce":231013017,"isDeleted":false,"id":"lW84oqgi","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725422,"y":-46.05982290821163,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":226724889,"groupIds":["NQ-rDOsEk5HrskJzH4NlO"],"strokeSharpness":"sharp","boundElements":[{"id":"BIlN-z6qp0Zwaqb-TssE9","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"},{"id":"G4TbwLAZZPqXZpdYasfnt","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3196,"versionNonce":1494243191,"isDeleted":false,"id":"itKSWnAAJjQpjm2vWnion","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-98.07172168029871,"y":-79.2060268563084,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":12.926063450679067,"height":10.229271525456682,"seed":1900335223,"groupIds":["rDGyDIC4wj-sxzu3feEwR"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"jJvHk8rL","focus":-0.4600932661649485,"gap":9.738041976955543},"endBinding":{"elementId":"jJvHk8rL","focus":0.21833418349062747,"gap":14.0985978045654},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-8.565507623069209,7.309658929014603],[4.360555827609858,10.229271525456682]]},{"type":"text","version":1321,"versionNonce":1079787385,"isDeleted":false,"id":"jJvHk8rL","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725425,"y":-83.384391276721,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":1317525113,"groupIds":["rDGyDIC4wj-sxzu3feEwR"],"strokeSharpness":"sharp","boundElements":[{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"},{"id":"G4TbwLAZZPqXZpdYasfnt","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":2918,"versionNonce":841240727,"isDeleted":false,"id":"pbeHb5a0uoNX9WtBB610c","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162218,"y":-24.52639828602463,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":652062743,"groupIds":["4rrK6TF_CuV7ezukefjSq"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"FriW2rj1","focus":1.2454866162586973,"gap":13.018445883231465},"endBinding":{"elementId":"htRXZrxu","focus":0.218334183490629,"gap":14.098597804565372},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1309,"versionNonce":762832985,"isDeleted":false,"id":"htRXZrxu","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725424,"y":-28.002655161407688,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":52838617,"groupIds":["4rrK6TF_CuV7ezukefjSq"],"strokeSharpness":"sharp","boundElements":[{"id":"pbeHb5a0uoNX9WtBB610c","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"BIlN-z6qp0Zwaqb-TssE9","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3276,"versionNonce":1956390327,"isDeleted":false,"id":"BZmTNh1W-NmZpnKNsAg8b","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162218,"y":32.21260428854929,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":639882839,"groupIds":["8H2UnQk_e6PsHRJ2vF_T5"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"gyk0nbcr","focus":-2.0005529473798833,"gap":11.941413967393373},"endBinding":{"elementId":"lDDvswtv","focus":1.4681909500270411,"gap":10.245825698741498},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1488,"versionNonce":1324053817,"isDeleted":false,"id":"GhGulrWn","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725424,"y":28.7363474131662,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":527212185,"groupIds":["8H2UnQk_e6PsHRJ2vF_T5"],"strokeSharpness":"sharp","boundElements":[{"id":"BZmTNh1W-NmZpnKNsAg8b","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3411,"versionNonce":2140952279,"isDeleted":false,"id":"Sz8xeGELrBil9xoaOIm_J","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162218,"y":47.314133496645894,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":1549525337,"groupIds":["UWcnU8VbgbX9PWpg8IRha"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"lDDvswtv","focus":-0.05236135082726946,"gap":10.812885025632056},"endBinding":{"focus":0.21833418349062633,"gap":14.098597804565372,"elementId":"lDDvswtv"},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1561,"versionNonce":404383257,"isDeleted":false,"id":"lDDvswtv","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725424,"y":43.83787662126281,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":282082487,"groupIds":["UWcnU8VbgbX9PWpg8IRha"],"strokeSharpness":"sharp","boundElements":[{"id":"Sz8xeGELrBil9xoaOIm_J","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"},{"id":"BZmTNh1W-NmZpnKNsAg8b","type":"arrow"},{"id":"BLtrddpDIMI7sGaAGwKk-","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3339,"versionNonce":1505321975,"isDeleted":false,"id":"R4mfxyq1rVtvRc5OSL9QM","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162221,"y":-9.284282918482006,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":1492729529,"groupIds":["nwIQTCVt-HW39_YL7nIJy"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"FriW2rj1","focus":-0.052361350827266985,"gap":10.812885025632},"endBinding":{"focus":0.21833418349062633,"gap":14.098597804565372,"elementId":"FriW2rj1"},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1521,"versionNonce":1140341497,"isDeleted":false,"id":"FriW2rj1","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725421,"y":-12.760539793865092,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":1028253015,"groupIds":["nwIQTCVt-HW39_YL7nIJy"],"strokeSharpness":"sharp","boundElements":[{"id":"R4mfxyq1rVtvRc5OSL9QM","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"},{"id":"G4TbwLAZZPqXZpdYasfnt","type":"arrow"},{"id":"pbeHb5a0uoNX9WtBB610c","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"arrow","version":3471,"versionNonce":1123536151,"isDeleted":false,"id":"sGG3rEuEkggAAXmB2n6iz","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-96.99687863162221,"y":11.452688849983957,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":13.856572150963103,"height":10.931379070486201,"seed":567682297,"groupIds":["8PqRhJn4x0YIw2xmuRPxm"],"strokeSharpness":"round","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"startBinding":{"elementId":"gyk0nbcr","focus":-0.052361350827266985,"gap":10.812885025632},"endBinding":{"focus":0.21833418349062633,"gap":14.098597804565372,"elementId":"gyk0nbcr"},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-10.570859372029787,5.047996387929032],[3.2857127789333163,10.931379070486201]]},{"type":"text","version":1587,"versionNonce":1661498329,"isDeleted":false,"id":"gyk0nbcr","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-113.80976365725421,"y":7.976431974600871,"strokeColor":"#c92a2a","backgroundColor":"transparent","width":6,"height":19,"seed":700810007,"groupIds":["8PqRhJn4x0YIw2xmuRPxm"],"strokeSharpness":"sharp","boundElements":[{"id":"sGG3rEuEkggAAXmB2n6iz","type":"arrow"},{"id":"i5h6ALg0GKwRab9r0C90J","type":"arrow"},{"id":"xE_jOsYBF4k_BoFbHpGdK","type":"arrow"},{"id":"itKSWnAAJjQpjm2vWnion","type":"arrow"},{"id":"G4TbwLAZZPqXZpdYasfnt","type":"arrow"},{"id":"BZmTNh1W-NmZpnKNsAg8b","type":"arrow"}],"updated":1668902875756,"link":null,"locked":false,"fontSize":14.39868181190029,"fontFamily":1,"text":"1","rawText":"1","baseline":13,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"1"},{"type":"text","version":289,"versionNonce":114037303,"isDeleted":false,"id":"eF8vvNIu","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-49.29003906249994,"y":-99.5947307900434,"strokeColor":"#000000","backgroundColor":"transparent","width":25,"height":25,"seed":1001960855,"groupIds":["XTuGMrxn6Otwpjz8ioNSR"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-2","rawText":"-2","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-2"},{"type":"text","version":346,"versionNonce":694063289,"isDeleted":false,"id":"1eX2ixah","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-48.29003906249994,"y":-4.668798405370609,"strokeColor":"#000000","backgroundColor":"transparent","width":23,"height":25,"seed":2019289783,"groupIds":["XTuGMrxn6Otwpjz8ioNSR"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-4","rawText":"-4","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-4"},{"type":"text","version":336,"versionNonce":236630871,"isDeleted":false,"id":"uqL6JY9q","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-48.79003906249994,"y":-59.30485448796003,"strokeColor":"#000000","backgroundColor":"transparent","width":24,"height":25,"seed":1001816121,"groupIds":["XTuGMrxn6Otwpjz8ioNSR"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-3","rawText":"-3","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-3"},{"type":"text","version":217,"versionNonce":2090733977,"isDeleted":false,"id":"WcU2UzjQ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-73.79003906249994,"y":-139.4268966608749,"strokeColor":"#000000","backgroundColor":"transparent","width":74,"height":25,"seed":1711725591,"groupIds":["XTuGMrxn6Otwpjz8ioNSR"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"y-speed","rawText":"y-speed","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"y-speed"},{"type":"text","version":320,"versionNonce":825766007,"isDeleted":false,"id":"IrI6KQJV","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-48.29003906249994,"y":38.547635033017116,"strokeColor":"#000000","backgroundColor":"transparent","width":23,"height":25,"seed":572946999,"groupIds":["XTuGMrxn6Otwpjz8ioNSR"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-5","rawText":"-5","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-5"},{"type":"text","version":308,"versionNonce":1106933369,"isDeleted":false,"id":"Dtv9HTI8","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-211.4044189453125,"y":-104.82800583612351,"strokeColor":"#000000","backgroundColor":"transparent","width":89,"height":15,"seed":1940233465,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":11.564513367491873,"fontFamily":1,"text":"repeat 2 times","rawText":"repeat 2 times","baseline":10,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"repeat 2 times"},{"type":"text","version":325,"versionNonce":1240009111,"isDeleted":false,"id":"8oL2ADB6","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-210.4044189453125,"y":-66.63830044568874,"strokeColor":"#000000","backgroundColor":"transparent","width":88,"height":15,"seed":1478327543,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875756,"link":null,"locked":false,"fontSize":11.564513367491873,"fontFamily":1,"text":"repeat 3 times","rawText":"repeat 3 times","baseline":10,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"repeat 3 times"},{"type":"text","version":337,"versionNonce":1815560025,"isDeleted":false,"id":"8xaobg7y","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-210.4044189453125,"y":-10.758631256235617,"strokeColor":"#000000","backgroundColor":"transparent","width":88,"height":15,"seed":1050181433,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":11.564513367491873,"fontFamily":1,"text":"repeat 4 times","rawText":"repeat 4 times","baseline":10,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"repeat 4 times"},{"type":"text","version":485,"versionNonce":90291895,"isDeleted":false,"id":"2lyzJYzq","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-184.4044189453125,"y":42.81446547735305,"strokeColor":"#000000","backgroundColor":"transparent","width":62,"height":15,"seed":666969721,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":11.564513367491873,"fontFamily":1,"text":"only once!!!","rawText":"only once!!!","baseline":10,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"only once!!!"},{"type":"text","version":421,"versionNonce":1235741753,"isDeleted":false,"id":"IbInAoJb","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-278.8067321777344,"y":-99.5947307900434,"strokeColor":"#000000","backgroundColor":"transparent","width":25,"height":25,"seed":963405561,"groupIds":["L2mtHY-W5mC-w7fjiNLVf"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-2","rawText":"-2","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-2"},{"type":"text","version":479,"versionNonce":1984352215,"isDeleted":false,"id":"hSc6JIhn","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-277.8067321777344,"y":-4.668798405370609,"strokeColor":"#000000","backgroundColor":"transparent","width":23,"height":25,"seed":791437591,"groupIds":["L2mtHY-W5mC-w7fjiNLVf"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-4","rawText":"-4","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-4"},{"type":"text","version":467,"versionNonce":305134873,"isDeleted":false,"id":"VhzbCA86","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-278.3067321777344,"y":-59.30485448796003,"strokeColor":"#000000","backgroundColor":"transparent","width":24,"height":25,"seed":1897340889,"groupIds":["L2mtHY-W5mC-w7fjiNLVf"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-3","rawText":"-3","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-3"},{"type":"text","version":350,"versionNonce":1722596599,"isDeleted":false,"id":"QrDPRnCQ","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":-303.3067321777344,"y":-139.4268966608749,"strokeColor":"#000000","backgroundColor":"transparent","width":74,"height":25,"seed":659433015,"groupIds":["L2mtHY-W5mC-w7fjiNLVf"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"y-speed","rawText":"y-speed","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"y-speed"},{"type":"text","version":453,"versionNonce":893579769,"isDeleted":false,"id":"CPx8eJtp","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-277.8067321777344,"y":38.547635033017116,"strokeColor":"#000000","backgroundColor":"transparent","width":23,"height":25,"seed":1488436409,"groupIds":["L2mtHY-W5mC-w7fjiNLVf"],"strokeSharpness":"sharp","boundElements":[],"updated":1668902875757,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"-5","rawText":"-5","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"-5"}],"appState":{"theme":"dark","viewBackgroundColor":"transparent","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"#15aabf","currentItemFillStyle":"solid","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":0,"currentItemOpacity":90,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("HatlightFalllingInSteps.excalidraw.md6");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>


### Change y by yspeed in steps
So, what goes in this stack? How do we change y in steps? What is our code?

Well, in words it would be:
* Change y by 1 step each time --  each step is **down** so we change y by  **-1**.
* Repeat this `y speed` times

In code it would look like this (EXAMPLE 1): 

```ad-scratch
title: EXAMPLE 1
~~~scratchblock
define change y by (y speed) in steps. Stop at wall.::custom
repeat (y speed)
    change y by (-1)
end
~~~
```

Notice that this only works if we are falling (y speed < 0), because y is going down. Later we will fix this so that it works even if we are moving up.

Before that, there is one little problem. A repeat block can only use number that is *bigger* than 0 (**positive**), like 1, 2, 3, .... 

We say it has to have a **sign of +1**. 

But, when the sprite is **falling**, `y speed`  is *less than* zero (**negative**), like -1, -2, -3... It has a **sign of -1**.

That is not okay. **Positive** is okay, but **negative** has to become positive in a repeat block. Luckily, in Scratch there is something that can help us, **abs**, which is short for **absolute value**: 

```ad-scratch
title: abs
~~~scratchblock
[abs v] of (y speed)
~~~
```

**Abs** keeps a number positive, but changes a negative to a postive. 

So EXAMPLE 1 should be:
```ad-scratch
title: EXAMPLE 2
~~~scratchblock
repeat ([abs v] of (y speed))
    change y by (-1)
end
~~~
```

That's pretty good. But, we also want to stop if we are touching a wall. We only want to *change y by -1 if we are **not touching a wall***. In code that means:

```ad-scratch
title: hitbox, define change y
~~~scratchblock

define change y  by (speed)  in steps. stop at wall.
repeat ([abs v] of (speed::custom)::operators)
    change y by ((-1) * <not <touching [walls v]?>>)
end
~~~
```

Notice that you can read the * in the `change y` block as **IF**: change y by -1 **IF** not touching walls. This is a very handy trick and we use it a lot.
What does the sensing block do? The first time we touch a wall, the change y stops working, and were are just inside the wall. We are ready to pull out of the wall.

Here is the myblock. Note that instead of an input field it has a boolean field. Boolean fields just accept sensing and other logic blocks, not variables and expressions.

### Pulling up

Now how do we pull up?
If we are touching a wall, we have to do two things, in this order:

1. Set `y speed` to zero
2. Pull out of the wall


<div id="pull_up1excalidraw.md7"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":393,"versionNonce":1131824091,"isDeleted":false,"id":"kX6mdJgu6Z9zYzt4QkKQC","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":90,"angle":0,"x":-310.42452924679486,"y":-322.91796640249396,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":409.2378845214844,"seed":524826683,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"type":"rectangle","version":339,"versionNonce":149207893,"isDeleted":false,"id":"btiQUpFtBA806yPFVw0O4","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-309.3394063313802,"y":-141.5797238557235,"strokeColor":"#000000","backgroundColor":"#fa5252","width":578.7227783203125,"height":52.170654296875,"seed":44219637,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"bZXud4sKcufW5TJL7_OPj","type":"arrow"},{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false},{"type":"rectangle","version":609,"versionNonce":1901531259,"isDeleted":false,"id":"h2uqRkhOXHx654X-XRb_Z","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-262.0369364420573,"y":-183.8746464573324,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2074835163,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"id":"f8Uzi4SwRvBu9EFRjHf0t","type":"arrow","x":-154.18271270952192,"y":-166.44995887538846,"width":1.675567626953125,"height":59.69586181640625,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":231274421,"version":277,"versionNonce":1679670517,"isDeleted":false,"boundElements":null,"updated":1669156047236,"link":null,"locked":false,"points":[[0,0],[-1.675567626953125,59.69586181640625]],"lastCommittedPoint":null,"startBinding":{"elementId":"QwswnlTb","focus":-0.0217611202800698,"gap":7.379317274365491},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow"},{"id":"QwswnlTb","type":"text","x":-192.4592895507813,"y":-198.82927614975395,"width":76,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":104294235,"version":76,"versionNonce":246761755,"isDeleted":false,"boundElements":[{"id":"f8Uzi4SwRvBu9EFRjHf0t","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false,"text":"speed y","rawText":"speed y","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"speed y"},{"type":"rectangle","version":719,"versionNonce":553872827,"isDeleted":false,"id":"7ROID8RLUbPYdA3Pg-am9","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-107.46558125813806,"y":-183.8746464573324,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2113005077,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"type":"text","version":190,"versionNonce":1971298165,"isDeleted":false,"id":"ZpKNmGDT","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-37.9922888340094,"y":-199.14230825111613,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":1465277301,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"id":"rQd7o4Mi","type":"text","x":-7.9922888340094005,"y":-167.28807961673064,"width":16,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1635862747,"version":32,"versionNonce":1533279835,"isDeleted":false,"boundElements":null,"updated":1669156047125,"link":null,"locked":false,"text":"0","rawText":"0","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"0"},{"type":"rectangle","version":803,"versionNonce":2074470613,"isDeleted":false,"id":"vEIBqNI4qxu5-18LGiWQE","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":77.11404614570802,"y":-217.46739843678054,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1920351419,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false},{"type":"text","version":267,"versionNonce":1828455989,"isDeleted":false,"id":"vSFzy3VC","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":156.79945412660248,"y":-198.9336149668613,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":487731541,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"text","version":111,"versionNonce":1968595867,"isDeleted":false,"id":"RhLxkizO","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":186.79945412660248,"y":-171.39498859204417,"strokeColor":"#000000","backgroundColor":"transparent","width":16,"height":25,"seed":425982587,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"0","rawText":"0","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"0"},{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow","x":114.55368589743574,"y":-132.47829959369375,"width":29.134020683092785,"height":29.56021822415866,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":1512917051,"version":370,"versionNonce":1130395867,"isDeleted":false,"boundElements":null,"updated":1669156047236,"link":null,"locked":false,"points":[[0,0],[19.660488030849365,-12.53169133112982],[-9.47353265224342,-29.56021822415866]],"lastCommittedPoint":null,"startBinding":null,"endBinding":{"elementId":"vEIBqNI4qxu5-18LGiWQE","focus":0.6448389025672591,"gap":1},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"t43ZZ7QC","type":"text","x":76.42580629006403,"y":-248.23642509449505,"width":65,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1768232251,"version":91,"versionNonce":2040346683,"isDeleted":false,"boundElements":null,"updated":1669156047125,"link":null,"locked":false,"text":"pull up","rawText":"pull up","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"pull up"},{"id":"qUuyfm6JyhFJdeDi1M5pu","type":"freedraw","x":104.53517190003993,"y":-123.47985520767614,"width":22.706455328525635,"height":31.10724033453525,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":2050304667,"version":71,"versionNonce":150890389,"isDeleted":true,"boundElements":null,"updated":1669155899934,"link":null,"locked":false,"points":[[0,0],[0.1042918669871824,0],[0.20864633413464162,0],[0.31300080128210084,0],[1.3908503605770193,-0.1043544671474308],[3.337840544871824,-0.8524576822916856],[7.3384915865385665,-1.8526204427083428],[12.366035657051384,-2.5644155649038396],[15.339918870192378,-2.861797626201934],[16.7734625400642,-3.01513671875],[16.98210887419873,-3.119491185897431],[16.98210887419873,-3.223830003004821],[17.08646334134619,-3.3281688201121824],[17.755220853365472,-3.6902168469551384],[18.42397836538464,-4.052264873798094],[19.34407552083337,-4.665652544070525],[20.012770432692378,-5.181055313501616],[20.681527944711547,-5.543087690304503],[21.51598808092956,-6.48190229366989],[21.724697015224365,-7.559720552884613],[22.086713741987182,-8.124123597756409],[22.39977714342956,-8.750203450520843],[22.55308493589746,-9.4189453125],[22.706455328525635,-10.33904246794873],[22.706455328525635,-11.007784329927887],[22.706455328525635,-11.676526191907044],[22.706455328525635,-12.596623347355774],[22.448793068910277,-13.26536520933493],[22.052033253205195,-14.698893229166686],[21.794370993589837,-15.367635091145843],[21.641000600961547,-16.036376953125],[21.049929887820554,-17.218549679487182],[20.896559495192378,-17.88729154146634],[20.63889723557702,-18.764726687700318],[20.53454276842956,-19.18211325620993],[20.32583383413464,-19.599499824719544],[20.221479366987182,-20.1638872195513],[19.810446714743648,-20.832644731570525],[19.497445913461547,-21.145676832932708],[19.080028044871824,-21.56306340144232],[18.411270532852654,-22.078450520833343],[17.993915264423094,-22.391498272235594],[17.325157752403925,-22.64919183193109],[16.405060596955195,-23.109240409655456],[15.736303084935912,-23.520288711939116],[14.345452724359006,-24.42442282652243],[13.676695212339837,-24.835455478766022],[12.756598056891107,-25.44887444911859],[12.087840544871824,-25.810906825921478],[11.419145633012818,-26.22195512820514],[11.001727764423094,-26.53498722956732],[10.584372495993648,-26.952373798076934],[10.271309094551384,-27.161082732371796],[10.062600160256466,-27.369760366586547],[9.853953826121824,-27.474114833733978],[9.749599358974365,-27.57846930088141],[9.64524489182702,-27.6828081179888],[9.54089042467956,-27.78714693509616],[9.332181490384642,-27.89150140224359],[8.914826221955195,-28.204533503605774],[8.350423177083371,-28.615597455929503],[7.933005308493648,-28.928629557291657],[7.012908153044918,-29.542032877604157],[6.595552884615472,-29.9594194461138],[5.969488681891107,-30.481144831730774],[5.65642528044873,-30.794192583133025],[5.447716346153925,-31.002885867387818],[5.239007411859006,-31.10724033453525],[5.239007411859006,-31.10724033453525]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[5.239007411859006,-31.10724033453525]}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("pull_up1excalidraw.md7");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>
Here is the code:

1. Set y-speed to zero so we are still. We could use an if block:

```ad-scratch
title: hitbox, pull up definition
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
if <falling?> then
set [y speed v] to (0)
end
...
~~~
```

- However, it is nice to do it all in one line. We do this by subtracting the yspeed (`-1 * yspeed`) from itself using a change block[^1]. This basically cancels itself out.

```ad-scratch
title: hitbox, pull up definition
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
set [y speed v] to ((y speed) - (<touching [walls v]?> * (y speed)))
...
~~~
```

The next step is:

1. Pull up by 1 to cancel the last step, the one that landed in the wall. We only want to do this if we are toucing the wall, and if we are falling. 
* Notice that in the `receive fall` stack we called this myblock with an input of `y speed < 0 ` (this is 1 when we are falling, and 0 when we are not):

```ad-scratch
title: hitbox, receive fall stack
~~~scratchblock

when I receive [fall v]
...
pull up or down if touching walls or <(y speed) \< [0]> or not::custom
...
~~~
```
-  Now this `y speed < 0 ` was called **falling?** when it is in the myblock.

```ad-scratch
title: hitbox, pull up definition
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
...
~~~
```

   - This means that `falling?` is **1** if we are falling, but **Zero** if we are not falling.
   - We change y if we are touching the wall and falling like this:

```ad-scratch
title: hitbox, pull up definition
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
...
change y by (<touching [walls v]?> * <falling?::custom> )
~~~
```

- `falling?` will be 0 if we are going up, so we don't change y.
- It only pulls up if we are falling and touching the wall.

```ad-scratch
title: hitbox, pull up definition
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
set y speed to zero \(if touching wall\)
set [y speed v] to ((y speed) - (<touching [walls v]?> * (y speed)))
pull up \(if touching and still falling\)
change y by (<touching [walls v]?> * <falling?::custom> )
~~~
```

This diagram show was we are doing. After we pull up, the speed is 0, which means we stop falling, as we should. This is realistic. When you hit the ground, you stop moving.

<div id="pull_up1excalidraw.md8"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":393,"versionNonce":1131824091,"isDeleted":false,"id":"kX6mdJgu6Z9zYzt4QkKQC","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":90,"angle":0,"x":-310.42452924679486,"y":-322.91796640249396,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":409.2378845214844,"seed":524826683,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"type":"rectangle","version":339,"versionNonce":149207893,"isDeleted":false,"id":"btiQUpFtBA806yPFVw0O4","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-309.3394063313802,"y":-141.5797238557235,"strokeColor":"#000000","backgroundColor":"#fa5252","width":578.7227783203125,"height":52.170654296875,"seed":44219637,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"bZXud4sKcufW5TJL7_OPj","type":"arrow"},{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false},{"type":"rectangle","version":609,"versionNonce":1901531259,"isDeleted":false,"id":"h2uqRkhOXHx654X-XRb_Z","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-262.0369364420573,"y":-183.8746464573324,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2074835163,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"id":"f8Uzi4SwRvBu9EFRjHf0t","type":"arrow","x":-154.18271270952192,"y":-166.44995887538846,"width":1.675567626953125,"height":59.69586181640625,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":231274421,"version":277,"versionNonce":1679670517,"isDeleted":false,"boundElements":null,"updated":1669156047236,"link":null,"locked":false,"points":[[0,0],[-1.675567626953125,59.69586181640625]],"lastCommittedPoint":null,"startBinding":{"elementId":"QwswnlTb","focus":-0.0217611202800698,"gap":7.379317274365491},"endBinding":null,"startArrowhead":null,"endArrowhead":"arrow"},{"id":"QwswnlTb","type":"text","x":-192.4592895507813,"y":-198.82927614975395,"width":76,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":104294235,"version":76,"versionNonce":246761755,"isDeleted":false,"boundElements":[{"id":"f8Uzi4SwRvBu9EFRjHf0t","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false,"text":"speed y","rawText":"speed y","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"speed y"},{"type":"rectangle","version":719,"versionNonce":553872827,"isDeleted":false,"id":"7ROID8RLUbPYdA3Pg-am9","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-107.46558125813806,"y":-183.8746464573324,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2113005077,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156047125,"link":null,"locked":false},{"type":"text","version":190,"versionNonce":1971298165,"isDeleted":false,"id":"ZpKNmGDT","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-37.9922888340094,"y":-199.14230825111613,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":1465277301,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"id":"rQd7o4Mi","type":"text","x":-7.9922888340094005,"y":-167.28807961673064,"width":16,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1635862747,"version":32,"versionNonce":1533279835,"isDeleted":false,"boundElements":null,"updated":1669156047125,"link":null,"locked":false,"text":"0","rawText":"0","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"0"},{"type":"rectangle","version":803,"versionNonce":2074470613,"isDeleted":false,"id":"vEIBqNI4qxu5-18LGiWQE","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":77.11404614570802,"y":-217.46739843678054,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1920351419,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156047125,"link":null,"locked":false},{"type":"text","version":267,"versionNonce":1828455989,"isDeleted":false,"id":"vSFzy3VC","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":156.79945412660248,"y":-198.9336149668613,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":487731541,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"text","version":111,"versionNonce":1968595867,"isDeleted":false,"id":"RhLxkizO","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":186.79945412660248,"y":-171.39498859204417,"strokeColor":"#000000","backgroundColor":"transparent","width":16,"height":25,"seed":425982587,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156047125,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"0","rawText":"0","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"0"},{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow","x":114.55368589743574,"y":-132.47829959369375,"width":29.134020683092785,"height":29.56021822415866,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":1512917051,"version":370,"versionNonce":1130395867,"isDeleted":false,"boundElements":null,"updated":1669156047236,"link":null,"locked":false,"points":[[0,0],[19.660488030849365,-12.53169133112982],[-9.47353265224342,-29.56021822415866]],"lastCommittedPoint":null,"startBinding":null,"endBinding":{"elementId":"vEIBqNI4qxu5-18LGiWQE","focus":0.6448389025672591,"gap":1},"startArrowhead":null,"endArrowhead":"arrow"},{"id":"t43ZZ7QC","type":"text","x":76.42580629006403,"y":-248.23642509449505,"width":65,"height":25,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1768232251,"version":91,"versionNonce":2040346683,"isDeleted":false,"boundElements":null,"updated":1669156047125,"link":null,"locked":false,"text":"pull up","rawText":"pull up","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":18,"containerId":null,"originalText":"pull up"},{"id":"qUuyfm6JyhFJdeDi1M5pu","type":"freedraw","x":104.53517190003993,"y":-123.47985520767614,"width":22.706455328525635,"height":31.10724033453525,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"round","seed":2050304667,"version":71,"versionNonce":150890389,"isDeleted":true,"boundElements":null,"updated":1669155899934,"link":null,"locked":false,"points":[[0,0],[0.1042918669871824,0],[0.20864633413464162,0],[0.31300080128210084,0],[1.3908503605770193,-0.1043544671474308],[3.337840544871824,-0.8524576822916856],[7.3384915865385665,-1.8526204427083428],[12.366035657051384,-2.5644155649038396],[15.339918870192378,-2.861797626201934],[16.7734625400642,-3.01513671875],[16.98210887419873,-3.119491185897431],[16.98210887419873,-3.223830003004821],[17.08646334134619,-3.3281688201121824],[17.755220853365472,-3.6902168469551384],[18.42397836538464,-4.052264873798094],[19.34407552083337,-4.665652544070525],[20.012770432692378,-5.181055313501616],[20.681527944711547,-5.543087690304503],[21.51598808092956,-6.48190229366989],[21.724697015224365,-7.559720552884613],[22.086713741987182,-8.124123597756409],[22.39977714342956,-8.750203450520843],[22.55308493589746,-9.4189453125],[22.706455328525635,-10.33904246794873],[22.706455328525635,-11.007784329927887],[22.706455328525635,-11.676526191907044],[22.706455328525635,-12.596623347355774],[22.448793068910277,-13.26536520933493],[22.052033253205195,-14.698893229166686],[21.794370993589837,-15.367635091145843],[21.641000600961547,-16.036376953125],[21.049929887820554,-17.218549679487182],[20.896559495192378,-17.88729154146634],[20.63889723557702,-18.764726687700318],[20.53454276842956,-19.18211325620993],[20.32583383413464,-19.599499824719544],[20.221479366987182,-20.1638872195513],[19.810446714743648,-20.832644731570525],[19.497445913461547,-21.145676832932708],[19.080028044871824,-21.56306340144232],[18.411270532852654,-22.078450520833343],[17.993915264423094,-22.391498272235594],[17.325157752403925,-22.64919183193109],[16.405060596955195,-23.109240409655456],[15.736303084935912,-23.520288711939116],[14.345452724359006,-24.42442282652243],[13.676695212339837,-24.835455478766022],[12.756598056891107,-25.44887444911859],[12.087840544871824,-25.810906825921478],[11.419145633012818,-26.22195512820514],[11.001727764423094,-26.53498722956732],[10.584372495993648,-26.952373798076934],[10.271309094551384,-27.161082732371796],[10.062600160256466,-27.369760366586547],[9.853953826121824,-27.474114833733978],[9.749599358974365,-27.57846930088141],[9.64524489182702,-27.6828081179888],[9.54089042467956,-27.78714693509616],[9.332181490384642,-27.89150140224359],[8.914826221955195,-28.204533503605774],[8.350423177083371,-28.615597455929503],[7.933005308493648,-28.928629557291657],[7.012908153044918,-29.542032877604157],[6.595552884615472,-29.9594194461138],[5.969488681891107,-30.481144831730774],[5.65642528044873,-30.794192583133025],[5.447716346153925,-31.002885867387818],[5.239007411859006,-31.10724033453525],[5.239007411859006,-31.10724033453525]],"pressures":[],"simulatePressure":true,"lastCommittedPoint":[5.239007411859006,-31.10724033453525]}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("pull_up1excalidraw.md8");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

Order is important! If instead we pull up then change the speed:

```ad-scratch
title: hitbox, **wrong way** to pull up
~~~scratchblock
define pull up or down if touching walls and <falling?> or not
first pull up
change y by (<touching [walls v]?> * <falling?::custom> )
then set speed to 0
set [y speed v] to ((y speed) - (<touching [walls v]?> * (y speed)))
~~~
```

We are doing this:

<div id="pull_up2excalidraw.md9"></div><script>(function(){const InitialData={"type":"excalidraw","version":2,"source":"https://excalidraw.com","elements":[{"type":"rectangle","version":456,"versionNonce":2014170363,"isDeleted":false,"id":"kX6mdJgu6Z9zYzt4QkKQC","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":90,"angle":0,"x":-307.98758146963695,"y":-325.6335309486249,"strokeColor":"#000000","backgroundColor":"#15aabf","width":580.8837890625,"height":409.2378845214844,"seed":524826683,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156330265,"link":null,"locked":false},{"type":"rectangle","version":344,"versionNonce":809665563,"isDeleted":false,"id":"btiQUpFtBA806yPFVw0O4","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-309.00035603841144,"y":-141.91882501132244,"strokeColor":"#000000","backgroundColor":"#fa5252","width":578.7227783203125,"height":52.170654296875,"seed":44219637,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156202842,"link":null,"locked":false},{"type":"rectangle","version":613,"versionNonce":1311481621,"isDeleted":false,"id":"h2uqRkhOXHx654X-XRb_Z","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-261.6880943661644,"y":-184.1071904026449,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2074835163,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156202842,"link":null,"locked":false},{"type":"arrow","version":290,"versionNonce":858867899,"isDeleted":false,"id":"f8Uzi4SwRvBu9EFRjHf0t","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-154.18271270952195,"y":-166.59826983046526,"strokeColor":"#000000","backgroundColor":"transparent","width":1.675567626953125,"height":59.69586181640625,"seed":231274421,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"startBinding":{"elementId":"QwswnlTb","focus":0.0007407326464248657,"gap":7.324716967445852},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.675567626953125,59.69586181640625]]},{"type":"text","version":81,"versionNonce":1240527989,"isDeleted":false,"id":"QwswnlTb","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-192.4592895507813,"y":-194.98466872318392,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":104294235,"groupIds":[],"strokeSharpness":"sharp","boundElements":[{"id":"f8Uzi4SwRvBu9EFRjHf0t","type":"arrow"}],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"rectangle","version":971,"versionNonce":1524374325,"isDeleted":false,"id":"vEIBqNI4qxu5-18LGiWQE","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":-96.94336759127094,"y":-210.0129713534471,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1920351419,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156202842,"link":null,"locked":false},{"type":"text","version":429,"versionNonce":1693327003,"isDeleted":false,"id":"vSFzy3VC","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-19.22992122216982,"y":-195.1009494151482,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":487731541,"groupIds":[],"strokeSharpness":"sharp","boundElements":[{"id":"44dLB82oMVXvMA_wzfLOo","type":"arrow"}],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"arrow","version":693,"versionNonce":881169211,"isDeleted":false,"id":"UcskjoFCvHzCqT3uSCxMh","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-61.70821595803301,"y":-124.68474592344634,"strokeColor":"#000000","backgroundColor":"transparent","width":27.456711088338537,"height":29.57901888703202,"seed":1512917051,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"startBinding":null,"endBinding":{"elementId":"vEIBqNI4qxu5-18LGiWQE","focus":0.6448389025672585,"gap":1},"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[19.660488030849365,-12.53169133112982],[-7.796223057489172,-29.57901888703202]]},{"type":"text","version":258,"versionNonce":1857851893,"isDeleted":false,"id":"t43ZZ7QC","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":-97.4621331630608,"y":-240.4428714242476,"strokeColor":"#000000","backgroundColor":"transparent","width":65,"height":25,"seed":1768232251,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"pull up","rawText":"pull up","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"pull up"},{"type":"arrow","version":343,"versionNonce":1451586523,"isDeleted":false,"id":"44dLB82oMVXvMA_wzfLOo","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":19.39937745528882,"y":-166.42398015550145,"strokeColor":"#000000","backgroundColor":"transparent","width":1.675567626953125,"height":59.69586181640625,"seed":1066318587,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"startBinding":{"elementId":"vSFzy3VC","focus":0.2655967455293468,"gap":3.6769692596467394},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.675567626953125,59.69586181640625]]},{"type":"rectangle","version":1016,"versionNonce":1436584789,"isDeleted":false,"id":"szdJ8c_tnKgqDPAvWjN_v","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":113.65481514284465,"y":-209.50058983883142,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":1140882325,"groupIds":[],"strokeSharpness":"round","boundElements":[{"id":"UcskjoFCvHzCqT3uSCxMh","type":"arrow"}],"updated":1669156202842,"link":null,"locked":false},{"type":"text","version":495,"versionNonce":886783221,"isDeleted":false,"id":"Ayia79E8","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":181.8590562142732,"y":-195.59811639108779,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":162400853,"groupIds":[],"strokeSharpness":"sharp","boundElements":[{"id":"RSHGkcLSqwCNXqkXrhEHI","type":"arrow"}],"updated":1669156211044,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"arrow","version":490,"versionNonce":698130133,"isDeleted":false,"id":"RSHGkcLSqwCNXqkXrhEHI","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":220.48835489173186,"y":-166.92114713144105,"strokeColor":"#000000","backgroundColor":"transparent","width":1.675567626953125,"height":59.69586181640625,"seed":936259963,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156211196,"link":null,"locked":false,"startBinding":{"elementId":"Ayia79E8","focus":-0.028248663575349633,"gap":3.6769692596467394},"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":"arrow","points":[[0,0],[-1.675567626953125,59.69586181640625]]},{"id":"CSBAxIxD","type":"text","x":81.11407853570182,"y":-294.51605353163285,"width":168,"height":75,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"groupIds":[],"strokeSharpness":"sharp","seed":1454111797,"version":148,"versionNonce":1127183579,"isDeleted":false,"boundElements":null,"updated":1669156332769,"link":null,"locked":false,"text":"am I still falling,\nor did I just\nget pulled up?","rawText":"am I still falling,\nor did I just\nget pulled up?","fontSize":20,"fontFamily":1,"textAlign":"left","verticalAlign":"top","baseline":68,"containerId":null,"originalText":"am I still falling,\nor did I just\nget pulled up?"},{"type":"rectangle","version":818,"versionNonce":1092516187,"isDeleted":true,"id":"7ROID8RLUbPYdA3Pg-am9","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":2,"opacity":100,"angle":0,"x":112.33451407296312,"y":-225.69511881131305,"strokeColor":"#000000","backgroundColor":"#4c6ef5","width":57.265625,"height":54.74920654296875,"seed":2113005077,"groupIds":[],"strokeSharpness":"round","boundElements":[],"updated":1669156202842,"link":null,"locked":false},{"type":"text","version":245,"versionNonce":1092918741,"isDeleted":true,"id":"ZpKNmGDT","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":212.40617773035075,"y":-281.02269097061014,"strokeColor":"#000000","backgroundColor":"transparent","width":76,"height":25,"seed":1465277301,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"speed y","rawText":"speed y","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"speed y"},{"type":"text","version":67,"versionNonce":1197250043,"isDeleted":true,"id":"rQd7o4Mi","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":178.64508095765729,"y":-215.54323708743377,"strokeColor":"#000000","backgroundColor":"transparent","width":16,"height":25,"seed":1635862747,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"0","rawText":"0","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"0"},{"type":"text","version":122,"versionNonce":1065151637,"isDeleted":true,"id":"RhLxkizO","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":100,"angle":0,"x":188.32563820863396,"y":-171.56456460115874,"strokeColor":"#000000","backgroundColor":"transparent","width":16,"height":25,"seed":425982587,"groupIds":[],"strokeSharpness":"sharp","boundElements":[],"updated":1669156202842,"link":null,"locked":false,"fontSize":20,"fontFamily":1,"text":"0","rawText":"0","baseline":18,"textAlign":"left","verticalAlign":"top","containerId":null,"originalText":"0"}],"appState":{"theme":"dark","viewBackgroundColor":"#ffffff","currentItemStrokeColor":"#000000","currentItemBackgroundColor":"transparent","currentItemFillStyle":"hachure","currentItemStrokeWidth":1,"currentItemStrokeStyle":"solid","currentItemRoughness":1,"currentItemOpacity":100,"currentItemFontFamily":1,"currentItemFontSize":20,"currentItemTextAlign":"left","currentItemStrokeSharpness":"sharp","currentItemStartArrowhead":null,"currentItemEndArrowhead":"arrow","currentItemLinearStrokeSharpness":"round","gridSize":null,"colorPalette":{}},"files":{}};InitialData.scrollToContent=true;App=()=>{const e=React.useRef(null),t=React.useRef(null),[n,i]=React.useState({width:void 0,height:void 0});return React.useEffect(()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height});const e=()=>{i({width:t.current.getBoundingClientRect().width,height:t.current.getBoundingClientRect().height})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),React.createElement(React.Fragment,null,React.createElement("div",{className:"excalidraw-wrapper",ref:t},React.createElement(ExcalidrawLib.Excalidraw,{ref:e,width:n.width,height:n.height,initialData:InitialData,viewModeEnabled:!0,zenModeEnabled:!0,gridModeEnabled:!1})))},excalidrawWrapper=document.getElementById("pull_up2excalidraw.md9");ReactDOM.render(React.createElement(App),excalidrawWrapper);})();</script>

We are not touching the wall anymore but still going down. We are kind of back where we started. We don't know if we touched a wall to get here or whether we were just falling, so we don't know if we should change the yspeed or not. 

## Testing jumps

To test out jumping, we use the up arrow key to change y. The second line lets us keep pressing the  up arrow as long as we are moving slowly (in either direction). 

```ad-scratch
title: hitbox, jumping test
~~~scratchblock
when [up arrow v] key pressed
change y by (50)
wait until < ((abs v) of (yspeed))  < (8) >
~~~
```

Step 1 is finished. It works okay but not perfectly. For example, it doesn't work if we hit a platform from below. We will have to fix it in Step 2.

[^1]: One alternative that does the same thing is: 
```ad-scratch
title: alternative change y speed
~~~scratchblock
change [y speed v] by (<touching [walls v]?> * ((-1) * (y speed)))
~~~
```

end